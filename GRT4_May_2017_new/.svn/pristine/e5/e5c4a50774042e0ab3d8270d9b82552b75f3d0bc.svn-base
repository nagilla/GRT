!function(a){"use strict";function b(){this.dataStoreService=null}b.prototype={registerlogger:function(a){b.Base.Logger.addlogger(a)},createDataStoreService:function(a){if(!a)throw"Context Store configuration is not defined.";return!this.dataStoreService&&a.enabled&&(this.dataStoreService=new b.Services.ContextStore.ContextStore(a)),this.dataStoreService}},a.AvayaDataStoreClient=b}(window),function(a){"use strict";!function(a){a.Base=a.Base||{}}(a),function(a){a.Config=a.Config||{}}(a),function(a){a.Services=a.Services||{}}(a),function(a){a.Services.ContextStore=a.Services.ContextStore||{}}(a),function(a){a.Config=a.Config||{}}(a)}(AvayaDataStoreClient),function(a){"use strict";!function(a){a.Providers=a.Providers||{}}(a),function(a){a.Providers.ContextStore=a.Providers.ContextStore||{}}(a)}(AvayaDataStoreClient),function(a){"use strict";var b={CAPABILITY_NOT_DENIED:"CAPABILITY_NOT_DENIED",CAPABILITY_INVALID_STATE:"CAPABILITY_INVALID_STATE",CAPABILITY_NOT_SUPPORTED:"CAPABILITY_NOT_SUPPORTED",CAPABILITY_CALL_IS_REMOTE:"CAPABILITY_CALL_IS_REMOTE",CAPABILITY_CALL_IS_NOT_REMOTE:"CAPABILITY_CALL_IS_NOT_REMOTE",CAPABILITY_CALL_HAS_NO_AUDIO:"CAPABILITY_CALL_HAS_NO_AUDIO",CAPABILITY_CALL_HAS_NO_VIDEO:"CAPABILITY_CALL_HAS_NO_VIDEO",CAPABILITY_NOT_ALLOWED:"CAPABILITY_NOT_ALLOWED",CAPABILITY_NEED_SIGNIN:"CAPABILITY_NEED_SIGNIN",CAPABILITY_NEED_MODERATOR:"CAPABILITY_NEED_MODERATOR",CAPABILITY_NEED_SIGNIN_OR_MODERATOR:"CAPABILITY_NEED_SIGNIN_OR_MODERATOR"};a.Base.CapabilityDenialReason=b}(AvayaDataStoreClient),function(a,b){"use strict";function c(c){this.isAllowed=c===a.Base.CapabilityDenialReason.CAPABILITY_NOT_DENIED,this.denialReason=c,this._onChangedCallbacks=b.Callbacks()}c.prototype={addOnChangedCallback:function(a){this._onChangedCallbacks.add(a)},removeOnChangedCallback:function(a){this._onChangedCallbacks.remove(a)},_updateIfChanged:function(a,b){this.isAllowed===a&&this.denialReason===b||(this.isAllowed=a,this.denialReason=b,this._onChangedCallbacks.fire(this))}},a.Base.Capability=c}(AvayaDataStoreClient,jQuery),function(a){"use strict";function b(a,b,c){Error.call(this,c),this._errorCode=a,this._reason=b,this._message=c}b.prototype=Object.create(Error.prototype),b.prototype.getErrorCode=function(){return this._errorCode},b.prototype.getReason=function(){return this._reason},b.prototype.getMessage=function(){return this._message},a.Base.ContextStoreError=b}(AvayaDataStoreClient),function(a){"use strict";function b(){}b.prototype={state:function(){},always:function(b){"function"!=typeof b&&a.Base.Logger.warn("alwaysCallback is not a function")},done:function(b){"function"!=typeof b&&a.Base.Logger.warn("doneCallback is not a function")},fail:function(b){"function"!=typeof b&&a.Base.Logger.warn("failCallback is not a function")},progress:function(b){"function"!=typeof b&&a.Base.Logger.warn("progressCallback is not a function")},then:function(b,c,d){"function"!=typeof b?a.Base.Logger.warn("doneCallback is not a function"):"function"!=typeof c?a.Base.Logger.warn("failCallback is not a function"):"function"!=typeof d&&a.Base.Logger.warn("progressCallback is not a function")}},a.Base.ContextStorePromise=b}(AvayaDataStoreClient),function(a){"use strict";function b(a){this.dataSet=a,this.dataRetrievalProgress=$.Callbacks(),this.dataRetrievalDone=$.Callbacks(),this.dataRetrievalFailed=$.Callbacks()}b.prototype={getDataSet:function(){return this.dataSet},addOnDataRetrievalProgressCallback:function(a){this.dataRetrievalProgress.add(a)},removeOnDataRetrievalProgressCallback:function(a){this.dataRetrievalProgress.remove(a)},onDataRetrievalProgress:function(a,b,c){this.dataRetrievalProgress.fire(this,arguments)},addOnDataRetrievalDoneCallback:function(a){this.dataRetrievalDone.add(a)},removeOnDataRetrievalDoneCallback:function(a){this.dataRetrievalDone.remove(a)},onDataRetrievalDone:function(){this.dataRetrievalDone.fire(this,arguments)},addOnDataRetrievalFailedCallback:function(a){this.dataRetrievalFailed.add(a)},removeOnDataRetrievalFailedCallback:function(a){this.dataRetrievalFailed.remove(a)},onDataRetrievalFailed:function(a){this.dataRetrievalFailed.fireWith(this,arguments)}},a.Base.DataRetrieval=b}(AvayaDataStoreClient),function(a,b){"use strict";function c(){this.dataSetChangeCallbacks=b.Callbacks(),this.dataSetInvalidatedCallbacks=b.Callbacks()}c.prototype=Object.create(Array.prototype),c.prototype.addOnDataSetChangedCallback=function(a){this.dataSetChangeCallbacks.add(a)},c.prototype.removeOnDataSetChangedCallback=function(a){this.dataSetChangeCallbacks.remove(a)},c.prototype.onDataSetChanged=function(){this.dataSetChangeCallbacks.fire(this)},c.prototype.addOnDataSetInvalidatedCallback=function(a){this.dataSetInvalidatedCallbacks.add(a)},c.prototype.removeOnDataSetInvalidatedCallback=function(a){this.dataSetInvalidatedCallbacks.remove(a)},c.prototype.onDataSetInvalidated=function(){this.dataSetInvalidatedCallbacks.fire(this)},a.Base.DataSet=c}(AvayaDataStoreClient,jQuery),function(){"use strict";function a(a,b,c,d){"undefined"!=typeof d?a[b](c,d):a[b](c)}function b(a,b,c,d){"undefined"!=typeof d?a.log(b,c,d):a.log(b,c)}var c=[];AvayaDataStoreClient.Base.Logger={log:function(a,d,e){c.forEach(function(c){b(c,a,d,e)})},info:function(d,e){c.forEach(function(c){"function"==typeof c.info?a(c,"info",d,e):b(c,"info",d,e)})},error:function(d,e){c.forEach(function(c){"function"==typeof c.error?a(c,"error",d,e):b(c,"error",d,e)})},fatal:function(d,e){c.forEach(function(c){"function"==typeof c.fatal?a(c,"fatal",d,e):b(c,"fatal",d,e)})},debug:function(d,e){c.forEach(function(c){"function"==typeof c.debug?a(c,"debug",d,e):b(c,"debug",d,e)})},trace:function(d,e){c.forEach(function(c){"function"==typeof c.trace?a(c,"trace",d,e):b(c,"trace",d,e)})},warn:function(d,e){c.forEach(function(c){"function"==typeof c.warn?a(c,"warn",d,e):b(c,"warn",d,e)})},addlogger:function(a){if(!a||"undefined"==typeof a.log)throw new TypeError("logger should implement log method.");c.push(a)},removelogger:function(a){var b=c.indexOf(a);if(b===-1)throw new Error("Specified error does not exist.");c.splice(b,1)}}}(),function(a){"use strict";function b(){this._config={},this._credentialProvider={}}b.prototype={send:function(b,c){c&&a.Base.Logger.info(c),b&&a.Base.Logger.info(b)},_onCredentialsRequired:function(b){b&&a.Base.Logger.info(b)},onClose:function(){},onMessage:function(b){b&&a.Base.Logger.info(b)},onError:function(b){a.Base.Logger.error(b)}},a.Base.AbstractNetworkProvider=b}(AvayaDataStoreClient),function(a,b){"use strict";function c(){a.Base.AbstractNetworkProvider.apply(this),this._xhrPool=[]}c.prototype=Object.create(a.Base.AbstractNetworkProvider.prototype),c.prototype.defaultOptions={url:void 0,processData:!0},c.prototype.generateToken=function(c){var d=b.extend({},this.defaultOptions,c),e=this._getServerURL(d),f={url:e,type:d.sendType,dataType:d.dataType,headers:d.headers,processData:d.processData,success:function(b){return a.Base.Logger.log("token request successful"),b},error:function(b,c,d){return a.Base.Logger.error("Error! token could not be generated",d),d},beforeSend:function(a){this._xhrPool.push(a)}.bind(this)};return d.crossDomain&&d.crossDomain===!0&&(f.xhrFields={withCredentials:!0},f.crossDomain=!0),b.ajax(f)},c.prototype.send=function(a,c,d){var e=this._getServerURL(c),f={url:e,type:c.sendType,headers:c.headers,dataType:c.dataType,processData:c.processData,beforeSend:function(a){this._xhrPool.push(a)}.bind(this)};return a&&(f.data=a),c.crossDomain&&c.crossDomain===!0&&(f.xhrFields={withCredentials:!0},f.crossDomain=!0),b.ajax(d===!0?f:this.buildAuthorizationHeader(f)).then(function(a,b,c){return this._xhrPool.splice(this._xhrPool.indexOf(c),1),this.onMessage(a.responseText,c),a}.bind(this),function(a){return this.onError(a.responseText),a}.bind(this))},c.prototype.buildAuthorizationHeader=function(a){var b=this._config.token;return a.headers.Authorization="Bearer "+b,a},c.prototype._getServerURL=function(a){var b="";return"undefined"!=typeof a.url?b=a.url:(b+=this._config.isSecure?"https://":"http://",b+=this._config.hostName,b+=a.urlSuffix),b},a.Base.RESTProvider=c}(AvayaDataStoreClient,jQuery),function(a){"use strict";function b(){this.enabled=!1,this.isGuest=!0,this.serverInfo=new a.Config.ServerInfo,this.maxConnectionErrorCount=5}b.prototype={},a.Config.CsConfiguration=b}(AvayaDataStoreClient),function(a){"use strict";function b(){this.hostName="",this.isSecure=!1}b.prototype={},a.Config.ServerInfo=b}(AvayaDataStoreClient),function(a){"use strict";var b={url:void 0,sendType:void 0,urlSuffix:"/services/CSRest/cs/contexts",contentType:"application/json; charset=UTF-8",dataType:void 0,timeout:2e3,processData:!0};a.Providers.ContextStore.ContextStoreNetworkOptions=b}(AvayaDataStoreClient),function(a){"use strict";function b(a){this._restProvider=a,this._config=void 0}b.prototype.init=function(b){this._config=b,this._restProvider||(this._restProvider=new a.Base.RESTProvider),this._restProvider._config=this._config},b.prototype.send=function(b,c,d){return this._restProvider.send(b,c,d).then(function(b){return a.Base.Logger.log("successfully processed request for:"+c.urlSuffix),b},function(b){return a.Base.Logger.log("error in processing request for:"+c.urlSuffix),this._handleError(b)}.bind(this))},b.prototype.generateToken=function(b){return this._restProvider.generateToken(b).then(function(b){return a.Base.Logger.log("token generated"),b},function(b){return a.Base.Logger.log("error in rest sending"),this._handleError(b)}.bind(this))},b.prototype._handleError=function(b){var c=b.status,d=b.statusText,e=b.responseText;if(!b)return new a.Base.ContextStoreError(c,d,e);if(d=b,b.errorMessage)e=b.errorMessage,b.errorCode&&(c=b.errorCode);else if(b.data){var f=b.data.split("::");f.length>1&&(e=f[1],c=f[0])}return a.Base.Logger.warn(JSON.stringify(b)),new a.Base.ContextStoreError(c,d,e)},a.Providers.ContextStore.ContextStoreNetworkProvider=b}(AvayaDataStoreClient),function(a){"use strict";function b(){this._csNetworkProvider=new a.Providers.ContextStore.ContextStoreNetworkProvider,this.csConfig=null}function c(a){return void 0===a||(void 0===a.length||0===a.length)}function d(a,b){return f(a,b,"","")}function e(a,b,c){return f(a,b,c,"")}function f(b,c,d,e){return""!==b.sid&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.SIDPARAM+b.sid),"undefined"!=typeof b.rid&&""!==b.rid&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.RIDPARAM+b.rid),"undefined"!=typeof b.touchpoint&&""!==b.touchpoint&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.TOUCHPOINTPARAM+b.touchpoint),"undefined"!=typeof b.lease&&""!==b.lease&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.LEASEPARAM+b.lease),""!==d&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.RULESPARAM+b.rules),""!==e&&(c.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.SHORTIDPARAM+b.shortId),c.urlSuffix=g(c.urlSuffix),c}function g(a){return a.includes("?")||(a=a.replace(/\&+?/,"/?")),a}function h(a,b){for(var c in a)a.hasOwnProperty(c)&&c===b&&delete a[c];return a}b.prototype={generateToken:function(b,d){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=d.scope,f=d.username,g=d.password,h=a.Providers.ContextStore.ContextStoreNetworkOptions;h.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.GENERATETOKENURL;var i=a.Providers.ContextStore.ContextStoreProviderURL.USERNAMESUFFIX,j=a.Providers.ContextStore.ContextStoreProviderURL.SCOPESUFFIX;return c(e)||c(f)?c(e)?c(f)||(h.urlSuffix+=i,h.headers={username:f,password:g}):(h.urlSuffix+=j,h.headers={scope:e}):(h.urlSuffix+=i+j,h.headers={scope:e,username:f,password:g}),h.sendType="GET",h.crossDomain="TRUE",this._csNetworkProvider.generateToken(h)},createContext:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var d=c.rules,e=c.shortId,g=$.parseJSON(c.requestBody),i=g.alias,j=a.Providers.ContextStore.ContextStoreNetworkOptions;if(j.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL,"undefined"!=typeof i&&""!==i){var k=0;i.forEach(function(b){0===k?j.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+b:j.urlSuffix+=a.Providers.ContextStore.ContextStoreProviderURL.EXTRAALIASPARAM+b,k++}),g=h(g,"alias")}return j.sendType="POST",j.headers={"Content-Type":"application/json"},j.dataType="text",c.requestBody.includes("contextId")||(j.dataType="json"),j=f(c,j,d,e),this._csNetworkProvider.send(JSON.stringify(g),j,this.csConfig.isGuest)},getContext:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getContextMeta:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.METAURL+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getValueByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=c.key,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f,g.sendType="GET",g.headers={"Content-Type":"application/text"},g.dataType="text",g=d(c,g),this._csNetworkProvider.send({},g,this.csConfig.isGuest)},getContextByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="GET",f.headers={"Content-Type":"application/text"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getContextByAliasIdMeta:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.METAURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASSUFFIX+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getValueByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=c.key,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,g.sendType="GET",g.headers={"Content-Type":"application/text"},g.dataType="text",g=d(c,g),this._csNetworkProvider.send({},g,this.csConfig.isGuest)},getGroup:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.groupId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.GROUPSCONTEXTURL+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getContextIdByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.IDURL+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getAliasesByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASSUFFIX+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},upsertContext:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var d=c.contextId,f=c.rules,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.UPSERTCONTEXTURL+d,g.sendType="PUT",g.headers={"Content-Type":"application/json"},g.dataType="text",g=e(c,g,f),this._csNetworkProvider.send(c.requestBody,g,this.csConfig.isGuest)},upsertContextByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var d=c.aliasId,f=c.rules,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.UPSERTCONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+d,g.sendType="PUT",g.headers={"Content-Type":"application/json"},g.dataType="json",g=e(c,g,f),this._csNetworkProvider.send(c.requestBody,g,this.csConfig.isGuest)},updateContext:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var d=c.contextId,f=c.rules,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+d,g.sendType="PUT",g.headers={"Content-Type":"application/json"},g.dataType="text",g=e(c,g,f),this._csNetworkProvider.send(c.requestBody,g,this.csConfig.isGuest)},updateValueByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=c.key,g=c.value,h=a.Providers.ContextStore.ContextStoreNetworkOptions;return h.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f,h.sendType="PUT",h.headers={"Content-Type":"application/text"},h.dataType="text",h=d(c,h),this._csNetworkProvider.send(g,h,this.csConfig.isGuest)},updateContextByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="PUT",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send(c.requestBody,f,this.csConfig.isGuest)},updateValueByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=c.key,g=c.value,h=a.Providers.ContextStore.ContextStoreNetworkOptions;return h.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,h.sendType="PUT",h.headers={"Content-Type":"application/text"},h.dataType="text",h=d(c,h),this._csNetworkProvider.send(g,h,this.csConfig.isGuest)},updateAliasesByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e+a.Providers.ContextStore.ContextStoreProviderURL.ALIASESSUFFIX,f.sendType="PUT",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send(c.requestBody,f,this.csConfig.isGuest)},updateAliasesByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASESSUFFIX+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="PUT",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send(c.requestBody,f,this.csConfig.isGuest)},deleteContext:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e,f.sendType="DELETE",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},deleteValueByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=c.key,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.FULLCONTEXTURL+e+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f,g.sendType="DELETE",g.headers={"Content-Type":"application/text"},g.dataType="text",g=d(c,g),this._csNetworkProvider.send({},g,this.csConfig.isGuest)},deleteContextByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="DELETE",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},deleteValueByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=c.key,g=a.Providers.ContextStore.ContextStoreNetworkOptions;return g.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.KEYSSUFFIX+f+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,g.sendType="DELETE",g.headers={"Content-Type":"application/text"},g.dataType="text",g=d(c,g),this._csNetworkProvider.send({},g,this.csConfig.isGuest)},deleteAliasByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.BASECONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASESSUFFIX+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="DELETE",f.headers={"Content-Type":"application/json"},f.dataType="text",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getAuditByContextId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.contextId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.AUDITCONTEXTURL+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)},getAuditByAliasId:function(b,c){this.csConfig=b,this._csNetworkProvider.init(this.csConfig.serverInfo);var e=c.aliasId,f=a.Providers.ContextStore.ContextStoreNetworkOptions;return f.urlSuffix=a.Providers.ContextStore.ContextStoreProviderURL.AUDITCONTEXTURL+a.Providers.ContextStore.ContextStoreProviderURL.ALIASPARAM+e,f.sendType="GET",f.headers={"Content-Type":"application/json"},f.dataType="json",f=d(c,f),this._csNetworkProvider.send({},f,this.csConfig.isGuest)}},a.Providers.ContextStore.ContextStoreProvider=b}(AvayaDataStoreClient),function(a){"use strict";var b={BASECONTEXTURL:"/services/CSRest/cs/contexts",FULLCONTEXTURL:"/services/CSRest/cs/contexts/",METAURL:"/services/CSRest/cs/contexts/meta/",IDURL:"/services/CSRest/cs/contexts/id/",GROUPSCONTEXTURL:"/services/CSRest/cs/contexts/groups/",UPSERTCONTEXTURL:"/services/CSRest/cs/contexts/upsert/",AUDITCONTEXTURL:"/services/CSRest/cs/contexts/audit/",GENERATETOKENURL:"/services/CSRest/cs/contexts/token",KEYSSUFFIX:"/keys/",ALIASESSUFFIX:"/aliases",ALIASSUFFIX:"/alias/",SCOPESUFFIX:"/scope",USERNAMESUFFIX:"/username",ALIASPARAM:"/?alias=",EXTRAALIASPARAM:"&alias=",SIDPARAM:"&sid=",RIDPARAM:"&rid=",TOUCHPOINTPARAM:"&touchpoint=",LEASEPARAM:"&lease=",RULESPARAM:"&rules=",SHORTIDPARAM:"&shortid="};a.Providers.ContextStore.ContextStoreProviderURL=b}(AvayaDataStoreClient),function(a){"use strict";var b={SUCCESSSTATUSCODE:"200",NOTFOUNDSTATUSCODE:"404",FAILSTATUSCODE:"500",BADREQUESTSTATUSCODE:"400",REDIRECTSTATUSCODE:"302",SUCCESSRESULT:"success"};a.Services.ContextStore.ContextStoreConstants=b}(AvayaDataStoreClient),function(a){"use strict";function b(b){this._contextStoreProvider=new a.Providers.ContextStore.ContextStoreProvider,this._contextStore=b,this._csConfig=null,this._csDataSet=new a.Base.DataSet}b.prototype.generateToken=function(a,b){return this._csConfig=a,this._contextStoreProvider.generateToken(this._csConfig,b)},b.prototype.getDataSet=function(){return this._csDataSet},b.prototype.createContext=function(a,b){return this._csConfig=a,this._contextStoreProvider.createContext(this._csConfig,b)},b.prototype.getContext=function(a,b){return this._csConfig=a,this._contextStoreProvider.getContext(this._csConfig,b)},b.prototype.getContextMeta=function(a,b){return this._csConfig=a,this._contextStoreProvider.getContextMeta(this._csConfig,b)},b.prototype.getContextByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getContextByAliasId(this._csConfig,b)},b.prototype.getContextByAliasIdMeta=function(a,b){return this._csConfig=a,this._contextStoreProvider.getContextByAliasIdMeta(this._csConfig,b)},b.prototype.getValueByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getValueByContextId(this._csConfig,b)},b.prototype.getValueByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getValueByAliasId(this._csConfig,b)},b.prototype.getGroup=function(a,b){return this._csConfig=a,this._contextStoreProvider.getGroup(this._csConfig,b)},b.prototype.getContextIdByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getContextIdByAliasId(this._csConfig,b)},b.prototype.getAliasesByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getAliasesByContextId(this._csConfig,b)},b.prototype.upsertContext=function(a,b){return this._csConfig=a,this._contextStoreProvider.upsertContext(this._csConfig,b)},b.prototype.upsertContextByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.upsertContextByAliasId(this._csConfig,b)},b.prototype.updateContext=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateContext(this._csConfig,b)},b.prototype.updateValueByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateValueByContextId(this._csConfig,b)},b.prototype.updateContextByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateContextByAliasId(this._csConfig,b)},b.prototype.updateValueByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateValueByAliasId(this._csConfig,b)},b.prototype.updateAliasesByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateAliasesByContextId(this._csConfig,b)},b.prototype.updateAliasesByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.updateAliasesByAliasId(this._csConfig,b)},b.prototype.deleteContext=function(a,b){return this._csConfig=a,this._contextStoreProvider.deleteContext(this._csConfig,b)},b.prototype.deleteValueByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.deleteValueByContextId(this._csConfig,b)},b.prototype.deleteContextByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.deleteContextByAliasId(this._csConfig,b)},b.prototype.deleteValueByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.deleteValueByAliasId(this._csConfig,b)},b.prototype.deleteAliasByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.deleteAliasByAliasId(this._csConfig,b)},b.prototype.getAuditByContextId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getAuditByContextId(this._csConfig,b)},b.prototype.getAuditByAliasId=function(a,b){return this._csConfig=a,this._contextStoreProvider.getAuditByAliasId(this._csConfig,b)},b.prototype.onFailure=function(b,c){var d=b.getMessage();a.Base.Logger.error(b.getReason(),d),c.reject(new a.Base.ContextStoreError(b.getErrorCode(),b.getReason(),d))},a.Services.ContextStore.ContextStoreService=b}(AvayaDataStoreClient),function(a,b){"use strict";function c(b){this._csConfig=b,this._contextStoreService=new a.Services.ContextStore.ContextStoreService(this)}c.prototype={generateToken:function(c,d,e){if(!this._csConfig){var f=b.Deferred();return f.reject("Context Store configuration is not defined."),f.promise()}return this._contextStoreService.generateToken(this._csConfig,{scope:c,username:d,password:e}).then(function(b){return a.Base.Logger.info("Successfully Generated Token"),b}.bind(this),function(b){return a.Base.Logger.error(b),b})},createContext:function(c,d,e,f,g,h,i){if(!this._csConfig){var j=b.Deferred();return j.reject("Context Store configuration is not defined."),j.promise()}return this._contextStoreService.createContext(this._csConfig,{requestBody:c,sid:d,rid:e,touchpoint:f,lease:g,rules:h,shortId:i}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Created: %o:",b)}).done(function(b){a.Base.Logger.log("Context Created: %o:",b)})},getContext:function(b,c,d,e){return this._contextStoreService.getContext(this._csConfig,{contextId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getContextWithMetaData:function(b,c,d,e){return this._contextStoreService.getContextMeta(this._csConfig,{contextId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getValueByContextId:function(b,c,d,e,f){return this._contextStoreService.getValueByContextId(this._csConfig,{contextId:b,key:c,sid:d,rid:e,touchpoint:f}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getContextByAliasId:function(b,c,d,e){return this._contextStoreService.getContextByAliasId(this._csConfig,{aliasId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getContextByAliasIdWithMetaData:function(b,c,d,e){return this._contextStoreService.getContextByAliasIdMeta(this._csConfig,{aliasId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getValueByAliasId:function(b,c,d,e,f){return this._contextStoreService.getValueByAliasId(this._csConfig,{aliasId:b,key:c,sid:d,rid:e,touchpoint:f}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getGroup:function(b,c,d){return this._contextStoreService.getGroup(this._csConfig,{groupId:b,sid:c,rid:d}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getContextIdByAliasId:function(b,c,d,e){return this._contextStoreService.getContextIdByAliasId(this._csConfig,{aliasId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b);
}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getAliasesByContextId:function(b,c,d,e){return this._contextStoreService.getAliasesByContextId(this._csConfig,{contextId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},upsertContext:function(c,d,e,f,g,h,i){if(!this._csConfig){var j=b.Deferred();return j.reject("Context Store configuration is not defined."),j.promise()}return this._contextStoreService.upsertContext(this._csConfig,{contextId:c,requestBody:d,sid:e,rid:f,touchpoint:g,lease:h,rules:i}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Upserted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Upserted: %o:",b)})},upsertContextByAliasId:function(c,d,e,f,g,h,i){if(!this._csConfig){var j=b.Deferred();return j.reject("Context Store configuration is not defined."),j.promise()}return this._contextStoreService.upsertContextByAliasId(this._csConfig,{aliasId:c,requestBody:d,sid:e,rid:f,touchpoint:g,lease:h,rules:i}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Upserted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Upserted: %o:",b)})},updateContext:function(c,d,e,f,g,h,i){if(!this._csConfig){var j=b.Deferred();return j.reject("Context Store configuration is not defined."),j.promise()}return this._contextStoreService.updateContext(this._csConfig,{contextId:c,requestBody:d,sid:e,rid:f,touchpoint:g,lease:h,rules:i}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Updated: %o:",b)})},updateValueByContextId:function(b,c,d,e,f,g,h){return this._contextStoreService.updateValueByContextId(this._csConfig,{contextId:b,key:c,value:d,sid:e,rid:f,touchpoint:g,lease:h}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Updated: %o:",b)})},updateContextByAliasId:function(c,d,e,f,g,h){if(!this._csConfig){var i=b.Deferred();return i.reject("Context Store configuration is not defined."),i.promise()}return this._contextStoreService.updateContextByAliasId(this._csConfig,{aliasId:c,requestBody:d,sid:e,rid:f,touchpoint:g,lease:h}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Updated: %o:",b)})},updateValueByAliasId:function(b,c,d,e,f,g,h){return this._contextStoreService.updateValueByAliasId(this._csConfig,{aliasId:b,key:c,value:d,sid:e,rid:f,touchpoint:g,lease:h}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Updated: %o:",b)})},updateAliasesByContextId:function(b,c,d,e,f,g){return this._contextStoreService.updateAliasesByContextId(this._csConfig,{contextId:b,requestBody:c,sid:d,rid:e,touchpoint:f,lease:g}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Updated: %o:",b)})},updateAliasesByAliasId:function(b,c,d,e,f,g){return this._contextStoreService.updateAliasesByAliasId(this._csConfig,{aliasId:b,requestBody:c,sid:d,rid:e,touchpoint:f,lease:g}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Updated: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Updated: %o:",b)})},deleteContext:function(b,c,d){return this._contextStoreService.deleteContext(this._csConfig,{contextId:b,sid:c,rid:d}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Deleted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Deleted: %o:",b)})},deleteValueByContextId:function(b,c,d,e,f){return this._contextStoreService.deleteValueByContextId(this._csConfig,{contextId:b,key:c,sid:d,rid:e,touchpoint:f}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Deleted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Deleted: %o:",b)})},deleteContextByAliasId:function(b,c,d){return this._contextStoreService.deleteContextByAliasId(this._csConfig,{aliasId:b,sid:c,rid:d}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Deleted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Deleted: %o:",b)})},deleteValueByAliasId:function(b,c,d,e,f){return this._contextStoreService.deleteValueByAliasId(this._csConfig,{aliasId:b,key:c,sid:d,rid:e,touchpoint:f}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Deleted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Deleted: %o:",b)})},deleteAliasByAliasId:function(b,c,d,e){return this._contextStoreService.deleteAliasByAliasId(this._csConfig,{aliasId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context Value could not be Deleted: %o:",b)}).done(function(b){a.Base.Logger.log("Context Value Deleted: %o:",b)})},getAuditByContextId:function(b,c,d){return this._contextStoreService.getAuditByContextId(this._csConfig,{contextId:b,sid:c,rid:d}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})},getAuditByAliasId:function(b,c,d,e){return this._contextStoreService.getAuditByAliasId(this._csConfig,{aliasId:b,sid:c,rid:d,touchpoint:e}).fail(function(b){a.Base.Logger.log("ERROR! Context could not be Returned: %o:",b)}).done(function(b){a.Base.Logger.log("Context: %o:",b)})}},a.Services.ContextStore.ContextStore=c}(AvayaDataStoreClient,jQuery),function(a,b){"use strict";var c={createRequestSessionArguments:function(){var a={apikey:"defaultapikey",extkey:void 0,name:void 0,autoJoin:!1,locale:"en_US",emailid:void 0};return a},createJoinSessionArguments:function(){var a={acstoken:void 0,useragent:void 0};return a},createLiveJoinSessionArguments:function(){var a={sessionkey:void 0,name:void 0,clientname:void 0,emailid:void 0,extkey:void 0};return a},createStatusArguments:function(){var a={acstoken:void 0};return a},createLogoutSessionArguments:function(){var a={acstoken:void 0,reason:"logout",eurl:void 0};return a}};b.extend(a.Services.ContextStore.ContextStore.prototype,c)}(AvayaDataStoreClient,jQuery);